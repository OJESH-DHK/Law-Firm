{% extends 'ui/base.html' %}
{% load static %}

{% block title %}
  About | Lawmaker
{% endblock %}

{% block content %}
  <!-- HERO SECTION -->
  <aside id="ftco-hero" class="js-fullheight">
    <div class="flexslider js-fullheight">
      <ul class="slides">
        <li style="background-image: url({{ latest_info.image.url }});">
          <div class="overlay-gradient"></div>
          <div class="container">
            <div class="row">
              <div class="col-md-8 col-md-offset-2 text-center js-fullheight slider-text">
                <div class="slider-text-inner">
                  <h1><strong>{{ latest_info.title }}</strong></h1>
                  <h2>{{ latest_info.description }}</h2>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </aside>

  <!-- SECOND SECTION -->
  <div class="site-section">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <img src="{{ latest_info.second_image.url }}" alt="Image" class="img-responsive img-rounded" />
        </div>
        <div class="col-md-1"></div>
        <div class="col-md-5">
          <h2>{{ latest_info.second_title }}</h2>
          <p>{{ latest_info.second_description }}</p>
       
        </div>
      </div>
    </div>
  </div>

<!-- ATTORNEYS SECTION -->
<div id="ftco-about">
  <div class="container">
    <div class="row animate-box">
      <div class="col-md-8 col-md-offset-2 text-center ftco-heading">
        <h2>{{ latest_info.third_title }}</h2>
        <p>{{ latest_info.third_description }}</p>
      </div>
    </div>
<div class="row justify-content-center">
  {% if attorneys|length == 1 %}
    {% for attorney in attorneys %}
      <div class="col-12 d-flex justify-content-center animate-box" data-animate-effect="fadeIn">
        <div class="ftco-staff text-center shadow-sm p-4 rounded-4 bg-white" style="max-width: 420px; width:100%;">
          {% if attorney.image %}
            <img src="{{ attorney.image.url }}" alt="{{ attorney.name }}" class="img-fluid rounded mb-3" loading="lazy" style="width:220px;height:220px;object-fit:cover;" />
          {% else %}
            <img src="{% static 'images/default-user.jpg' %}" alt="Default Attorney" class="img-fluid rounded mb-3" loading="lazy" style="width:220px;height:220px;object-fit:cover;" />
          {% endif %}
          <h3 class="mb-1">{{ attorney.name }}</h3>
          <strong class="role text-muted d-block mb-2">{{ attorney.position }}</strong>
          <p class="text-muted">{{ attorney.description }}</p>
          <ul class="ftco-social-icons d-flex justify-content-center gap-2 list-unstyled mt-3 mb-0">
            {% if attorney.facebook_link %}
              <li><a href="{{ attorney.facebook_link }}" aria-label="facebook"><i class="icon-facebook"></i></a></li>
            {% endif %}
            {% if attorney.twitter_link %}
              <li><a href="{{ attorney.twitter_link }}" aria-label="twitter"><i class="icon-twitter"></i></a></li>
            {% endif %}
            {% if attorney.linkedin_link %}
              <li><a href="{{ attorney.linkedin_link }}" aria-label="linkedin"><i class="icon-linkedin"></i></a></li>
            {% endif %}
            {% if attorney.instagram_link %}
              <li><a href="{{ attorney.instagram_link }}" aria-label="instagram"><i class="icon-instagram"></i></a></li>
            {% endif %}
          </ul>
        </div>
      </div>
    {% endfor %}
  {% elif attorneys|length == 2 %}
    {% for attorney in attorneys %}
      <div class="col-12 col-md-6 d-flex justify-content-center animate-box" data-animate-effect="fadeIn">
        <div class="ftco-staff text-center shadow-sm p-4 rounded-4 bg-white mx-auto" style="max-width: 420px; width:100%">
          {% if attorney.image %}
            <img src="{{ attorney.image.url }}" alt="{{ attorney.name }}" class="img-fluid rounded mb-3" loading="lazy" style="width:220px;height:220px;object-fit:cover;" />
          {% else %}
            <img src="{% static 'images/default-user.jpg' %}" alt="Default Attorney" class="img-fluid rounded mb-3" loading="lazy" style="width:220px;height:220px;object-fit:cover;" />
          {% endif %}
          <h3 class="mb-1">{{ attorney.name }}</h3>
          <strong class="role text-muted d-block mb-2">{{ attorney.position }}</strong>
          <p class="text-muted">{{ attorney.description }}</p>
          <ul class="ftco-social-icons d-flex justify-content-center gap-2 list-unstyled mt-3 mb-0">
            {% if attorney.facebook_link %}
              <li><a href="{{ attorney.facebook_link }}" aria-label="facebook"><i class="icon-facebook"></i></a></li>
            {% endif %}
            {% if attorney.twitter_link %}
              <li><a href="{{ attorney.twitter_link }}" aria-label="twitter"><i class="icon-twitter"></i></a></li>
            {% endif %}
            {% if attorney.linkedin_link %}
              <li><a href="{{ attorney.linkedin_link }}" aria-label="linkedin"><i class="icon-linkedin"></i></a></li>
            {% endif %}
            {% if attorney.instagram_link %}
              <li><a href="{{ attorney.instagram_link }}" aria-label="instagram"><i class="icon-instagram"></i></a></li>
            {% endif %}
          </ul>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="col-12">
      <div class="owl-carousel owl-carousel-fullwidth owl-theme" aria-label="Attorneys carousel">
        {% for attorney in attorneys %}
          <div class="item">
            <div class="ftco-staff p-4 rounded-4 shadow-sm mx-2 d-flex flex-column align-items-center justify-content-between" style="background:#fff; min-height:320px;">
              <figure class="mb-3">
                {% if attorney.image %}
                  <img src="{{ attorney.image.url }}" alt="{{ attorney.name }}" loading="lazy"
                       class="img-fluid rounded-circle shadow-sm border"
                       style="width:140px; height:140px; object-fit:cover;">
                {% else %}
                  <img src="{% static 'images/default-user.jpg' %}" alt="Default Attorney" loading="lazy"
                       class="img-fluid rounded-circle shadow-sm border"
                       style="width:140px; height:140px; object-fit:cover;">
                {% endif %}
              </figure>

              <div class="w-100">
                <h3 class="mb-1">{{ attorney.name }}</h3>
                <strong class="role text-muted d-block mb-2">{{ attorney.position }}</strong>
                <p class="text-muted" style="min-height:60px;">{{ attorney.description }}</p>
              </div>

              <ul class="ftco-social-icons d-flex justify-content-center gap-2 list-unstyled mt-3 mb-0">
                {% if attorney.facebook_link %}
                  <li><a href="{{ attorney.facebook_link }}" aria-label="facebook"><i class="icon-facebook"></i></a></li>
                {% endif %}
                {% if attorney.twitter_link %}
                  <li><a href="{{ attorney.twitter_link }}" aria-label="twitter"><i class="icon-twitter"></i></a></li>
                {% endif %}
                {% if attorney.linkedin_link %}
                  <li><a href="{{ attorney.linkedin_link }}" aria-label="linkedin"><i class="icon-linkedin"></i></a></li>
                {% endif %}
                {% if attorney.instagram_link %}
                  <li><a href="{{ attorney.instagram_link }}" aria-label="instagram"><i class="icon-instagram"></i></a></li>
                {% endif %}
              </ul>
            </div>
          </div>
        {% empty %}
          <p class="text-center text-muted">No attorney profiles available.</p>
        {% endfor %}
      </div>
    </div>
  {% endif %}
</div>

  </div>
</div>


  <!-- ✅ CLIENT TESTIMONIAL SECTION (Aligned with main container) -->
<div id="ftco-testimonial" class="site-section">
  <div class="container">
    <!-- Section Title -->
    <div class="row animate-box mb-5">
      <div class="col-md-8 col-md-offset-2 text-center ftco-heading">
        <h2 class="fw-bold text-uppercase mb-3">{{ latest_client.title }}</h2>
        <p class="text-muted">What our clients say about working with us.</p>
      </div>
    </div>

    <!-- Testimonial Carousel -->
    <div class="row">
      <div class="col-md-12">
        <div class="owl-carousel owl-carousel-fullwidth owl-theme" aria-label="Client testimonials carousel">
          {% for client in clients %}
            <div class="item">
              <div class="testimony-slide text-center p-4 rounded-4 shadow-sm mx-2 d-flex flex-column align-items-center justify-content-between" style="background: #fff; min-height: 320px;">
                <figure class="mb-3">
                  {% if client.client_image %}
                    <img src="{{ client.client_image.url }}" alt="{{ client.client_name }}" loading="lazy"
                         class="img-fluid rounded-circle shadow-sm border"
                         style="width:120px; height:120px; object-fit:cover;">
                  {% else %}
                    <img src="{% static 'images/default-user.jpg' %}" alt="User" loading="lazy"
                         class="img-fluid rounded-circle shadow-sm border"
                         style="width:120px; height:120px; object-fit:cover;">
                  {% endif %}
                </figure>

                <div class="w-100">
                  <h5 class="fw-semibold mt-3 mb-1">{{ client.client_name }}</h5>
                  <div class="text-warning mb-2">
                    <i class="icon-star"></i>
                    <i class="icon-star"></i>
                    <i class="icon-star"></i>
                    <i class="icon-star"></i>
                    <i class="icon-star-half-full"></i>
                  </div>

                  <blockquote class="blockquote mb-0">
                    <p class="text-muted fst-italic" style="font-size: 15px; line-height: 1.6;">
                      &ldquo;{{ client.client_message|default:'No message provided.' }}&rdquo;
                    </p>
                  </blockquote>
                </div>
              </div>
            </div>
          {% empty %}
            <p class="text-center text-muted">No client testimonials available.</p>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ✅ END CLIENT TESTIMONIAL SECTION -->


  
{% endblock %}

{% block extra_scripts %}
  <script>
    (function(){
      var $ = window.jQuery;
      if(!$) return;
      $(document).ready(function(){
        var $att = $('#ftco-about .owl-carousel');
        if($att.length){
          $att.owlCarousel({
            items: 3,
            loop: true,
            margin: 20,
            center: true,
            nav: true,
            dots: true,
            autoplay: false,
            responsive: {
              0: { items: 1 },
              600: { items: 2 },
              1000: { items: 3 }
            },
            navText: ['<span class="icon-arrow-left"></span>','<span class="icon-arrow-right"></span>']
          });
        }
      });
    })();
  </script>
{% endblock %}

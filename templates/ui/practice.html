{% extends 'ui/base.html' %}
{% load static %}

{% block title %}Services | Lawmaker{% endblock %}

{% block content %}

<!-- HERO SECTION -->
<aside id="ftco-hero" class="js-fullheight">
    <div class="flexslider js-fullheight">
        <ul class="slides">
            <li style="background-image: url('{{ main.main_image.url }}');">
                <div class="overlay-gradient"></div>
                <div class="container">
                    <div class="row">
                        <div class="col-md-8 col-md-offset-2 text-center js-fullheight slider-text">
                            <div class="slider-text-inner">
                                <h1><strong>{{ main.main_title }}</strong></h1>
                                <h2>{{ main.main_description }}</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</aside>

<!-- PRACTICE AREA SECTION -->
<div class="ftco-practice">
    <div class="container">
        <div class="row animate-box mb-4">
            <div class="col-md-8 col-md-offset-2 text-center ftco-heading">
                <h2>{{ main.practice_area }}</h2>
                <p>{{ main.practice_area_description }}</p>
            </div>
        </div>

        <div class="row">
            {% for area in areas %}
            <div class="col-md-4 text-center animate-box mb-4">
                <div class="services h-100 p-3 rounded-4 shadow-sm" style="display:flex; flex-direction:column; justify-content:space-between;">
                    <a href="{% url 'practice-area-detail' area.id %}">
                        <span class="icon mb-3 d-block">
                            <img src="{{ area.icon_image.url }}" alt="{{ area.name }}" style="width:80px; height:80px; object-fit:cover;">
                        </span>
                        <div class="desc">
                            <h3>{{ area.name }}</h3>
                            <p style="min-height: 100px;">{{ area.description|truncatewords:20 }}</p>
                        </div>
                    </a>
                    <a href="{% url 'practice-area-detail' area.id %}" class="btn btn-primary mt-auto">Read More</a>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- PAGINATION -->
        <div class="row">
            <div class="col-md-12 text-center mt-4">
                {% if areas.has_previous %}
                    <a href="?page={{ areas.previous_page_number }}" class="btn btn-outline-primary">Previous</a>
                {% endif %}

                {% for num in areas.paginator.page_range %}
                    {% if areas.number == num %}
                        <span class="btn btn-primary disabled">{{ num }}</span>
                    {% else %}
                        <a href="?page={{ num }}" class="btn btn-outline-primary">{{ num }}</a>
                    {% endif %}
                {% endfor %}

                {% if areas.has_next %}
                    <a href="?page={{ areas.next_page_number }}" class="btn btn-outline-primary">Next</a>
                {% endif %}
            </div>
        </div>

    </div>
</div>

{% endblock %}
